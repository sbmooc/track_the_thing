{% extends 'tracker/base.html' %}
{% block content %}

<!--Original search & tag bar - commented out for now-->
    <!--<nav class=" navbar-expand-lg navbar-light bg-light my-3 py-1">-->
        <!--<div class="collapse navbar-collapse" id="navbarTogglerDemo01">-->
            <!--<ul class="navbar-nav mr-auto mt-2 mt-lg-0">-->
                <!--<li>-->
                    <!--<form class="form-inline my-2 my-lg-0">-->
                        <!--<input class="form-control mr-sm-2" type="search"-->
                               <!--placeholder="Search" aria-label="Search">-->
                        <!--<button class="btn btn-outline-success my-2 my-sm-0" type="submit">-->
                            <!--Search-->
                        <!--</button>-->
                    <!--</form>-->
                <!--</li>-->
                <!--<li class="nav-item">-->
                    <!--<a class="nav-link" href="#">-->
                        <!--<button type="button"-->
                                <!--class="btn btn-secondary btn-block">Assignable-->
                        <!--</button>-->
                    <!--</a>-->
                <!--</li>-->
                <!--<li class="nav-item">-->
                    <!--<a class="nav-link" href="#">-->
                        <!--<button type="button"-->
                                <!--class="btn btn-secondary btn-block">Assignable-->
                        <!--</button>-->
                    <!--</a>-->
                <!--</li>-->
            <!--</ul>-->
        <!--</div>-->
    <!--</nav>-->

<!--Current search and tag bar-->
    <div class="container-fluid my-2">
        <div class="row">
            <div class="col my-2">
                <a href="#">
                    <button type="button"
                            class="btn btn-secondary btn-block">Working
                    </button>
                </a>
            </div>
            <div class="col my-2">
                <a href="#">
                    <button type="button"
                            class="btn btn-secondary btn-block">Assignable
                    </button>
                </a>
            </div>
            <div class="col-sm my-2">
                <form class="form-inline" role="search">
                    <div class="input-group">
                        <input type="text" class="form-control mr-sm-2" placeholder="Search" name="srch-term" id="srch-term">
                        <div class="input-group-btn">
                            <button class="btn btn-default" type="submit"><i class="fa fa-search"></i></button>
                        </div>
                    </div>
                </form>
            </div>
        </div>
    </div>

<!--main content-->

<!--New table layout-->
    <div class="container-fluid my-2">
        <div class="row">
            <div class="col my-2">
                <h4>Trackers</h4>
            </div>
        </div>
        <table class="table table-hover table-responsive-sm">
          <thead>
            <tr>
              <th scope="col">ESN</th>
              <th scope="col">Status</th>
              <th scope="col">Location</th>
              <th scope="col" class="d-none d-sm-table-cell">Assignable</th>
            </tr>
          </thead>
          <tbody>
            {% for tracker in trackers_list %}
                <tr>
                  <td>{{ tracker.esn_number }}</td>
                  <td>
                      <div class="row">{{ tracker.working_status }}</div>
                      <div class="row">{{ tracker.last_test_date }}</div>
                  </td>
                  <td>
                      {% if tracker.rider_possess %}
                        <div>With rider:</div>
                        <div><a href={{ tracker.rider_url }}>{{ tracker.rider_possess }}</a></div>
                      {% endif %}
                  </td>
                  <td class="d-none d-sm-table-cell">
                      <!--Need to replace with just assignable field when written-->
                      {% if tracker.rider_assigned %}
                        No
                      {% else %}
                        {{ tracker.assignable }}
                      {% endif %}
                  </td>
                </tr>
            {% endfor %}
          </tbody>
        </table>
    </div>
<!--Original card layout-->
    <!--<div class="row justify-content-center">-->
            <!--{% for tracker in trackers_list %}-->
                <!--<div class="card mx-2 mb-3" style="width: 18rem" id="tid-{{ tracker.id }}">-->
                    <!--<div class="card-body">-->
                        <!--<h5 class="card-title">ID: {{ tracker.id }}</h5>-->
                    <!--</div>-->
                    <!--<ul class="list-group list-group-flush">-->
                        <!--<li class="list-group-item">ESN: {{ tracker.esn_number }}</li>-->
                        <!--<li class="list-group-item">Last Test Date: {{ tracker.last_test_date }}</li>-->
                    <!--</ul>-->
                    <!--<div class="card-body justify-content-center">-->
                        <!--<a href="#" class="">-->
                            <!--<button type="button" class="my-1 btn btn-primary">-->
                                <!--Record changes-->
                            <!--</button>-->
                        <!--</a>-->
                        <!--<a href="#" class="">-->
                            <!--<button type="button" class="my-1 btn btn-primary">-->
                                <!--Go to rider-->
                            <!--</button>-->
                        <!--</a>-->
                    <!--</div>-->
                <!--</div>-->
            <!--{% endfor %}-->
    <!--</div>-->
{% endblock %}